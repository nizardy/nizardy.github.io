<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Happy Birthday! yaqq :)</title>
  <link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400" rel="stylesheet">
  <link rel="shortcut icon" type="image/png" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéÇ</text></svg>" />
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style>
    html { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Work Sans", sans-serif;
      background: url('https://i.imgur.com/tI7xmVC.jpeg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      overflow: hidden;
    }
    .container {
      max-width: 1000px; 
      height: 100vh;
      margin: 0 auto;
      text-align: center;
      visibility: hidden;
      position: relative;
      overflow: hidden;
    }
    .container > div {
      position: absolute;
      left: 0;
      right: 0;
      top: 20vh;
    }
    .one { font-size: 4.5rem; }
    .two { font-size: 1.2rem; font-weight: lighter; }
    .three { font-size: 3rem; }
    .four {
      z-index: 10;
      display: flex;
      justify-content: center;
      align-items: center;
      top: 0;
      height: 100vh;
      width: 100vw;
      left:0;
    }
    
    /* === UI WHATSAPP DARI REFERENSI === */
    .phone-screen {
        width: 100%;
        max-width: 420px;
        height: 95vh;
        max-height: 850px;
        background-color: white;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        border-radius: 20px;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }
    .chat-background {
        background-color: #E5DDD5;
        background-image: url('https://i.pinimg.com/73x/8c/98/99/8c98994518b575bfd8c949e91d20548b.jpg');
        background-repeat: repeat;
    }
    .chat-bubble-sent {
        position: relative;
        background-color: #DCF8C6;
    }
    .chat-bubble-sent::after {
        content: '';
        position: absolute;
        top: 0;
        right: -8px;
        width: 0;
        height: 0;
        border-style: solid;
        border-width: 8px 0 0 10px;
        border-color: transparent transparent transparent #DCF8C6;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .fade-in {
        animation: fadeIn 0.5s ease-out forwards;
    }
    .key-pressed {
        background-color: #B2B8BF !important;
        transform: scale(0.95);
    }
    /* === END UI WHATSAPP === */

    .five, .six, .seven, .eight, .nine { pointer-events: none; }
    .five p { font-size: 2rem; position: absolute; left: 0; right: 0; }
    .idea-3 strong { padding: 3px 5px; border-radius: 3px; display: inline-block; }
    .five .idea-5 { font-size: 4rem; }
    .idea-5 span, .idea-6 span, .wish-hbd span { display: inline-block; }
    .idea-6 span { font-size: 15rem; }
    .six { position: relative; }
    .six img.lydia-dp {
      display: inline-block;
      width: 400px;
      height: 400px;
      object-fit: cover;
      border-radius: 25px; 
      border: 5px solid #fff;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15); 
    }
    .six .hat {
      position: absolute;
      width: 150px;
      height: 150px;
      top: -75px;
      left: 50%;
      transform: translateX(-50%);
    }
    .hat::before { content: ''; position: absolute; top: 5px; left: 50%; transform: translateX(-50%); width: 30px; height: 30px; background: #F1948A; border-radius: 50%; z-index: 2; }
    .hat::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 100%; clip-path: polygon(50% 10%, 0 100%, 100% 100%); background-color: #82E0AA; background-image: radial-gradient(#FAD7A0 25%, transparent 26%), radial-gradient(#AED6F1 25%, transparent 26%); background-size: 40px 40px; background-position: 0 0, 20px 20px; }
    .balloon { display: inline-block; width: 80px; height: 100px; border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%; position: absolute; transform-origin: bottom center; }
    .balloon::before { content: ''; position: absolute; top: 10px; left: 10px; width: 30px; height: 40px; background-color: rgba(255, 255, 255, 0.4); border-radius: 50%; filter: blur(5px); transform: rotate(-30deg); }
    .balloon::after { content:""; position:absolute; bottom:-10px; left:50%; transform: translateX(-50%); width: 0; height: 0; border-left: 7px solid transparent; border-right: 7px solid transparent; border-top: 14px solid; }
    .balloon.red { background-image: radial-gradient(circle at 25% 25%, #FF8A80, #D32F2F); }
    .balloon.red::after { border-top-color: #B71C1C; }
    .balloon.blue { background-image: radial-gradient(circle at 25% 25%, #82B1FF, #2962FF); }
    .balloon.blue::after { border-top-color: #2962FF; }
    .balloon.yellow { background-image: radial-gradient(circle at 25% 25%, #FFFF8D, #FFD600); }
    .balloon.yellow::after { border-top-color: #FFD600; }
    .baloons .balloon:nth-child(even) { left: -10%; }
    .baloons .balloon:nth-child(odd) { right: -10%; }
    .baloons .balloon:nth-child(3n + 0) { left: 30%; }
    .eight svg { width: 25px; position: absolute; top: 0; left: 0; visibility: hidden; z-index: -1; }
    .eight svg:nth-child(1){top:7vh;left:5vw;fill:#bd6ecf}.eight svg:nth-child(2){top:23vh;left:35vw;fill:#7dd175}.eight svg:nth-child(3){top:33vh;left:23vw;fill:#349d8b}.eight svg:nth-child(4){top:43vh;left:57vw;fill:#347a9d}.eight svg:nth-child(5){top:68vh;left:7vw;fill:#c66053}.eight svg:nth-child(6){top:42vh;left:77vw;fill:#bfaa40}.eight svg:nth-child(7){top:68vh;left:83vw;fill:#e3bae8}.eight svg:nth-child(8){top:86vh;left:37vw;fill:#8762cb}.eight svg:nth-child(9){top:94vh;left:87vw;fill:#9a90da}
    .wish-hbd { font-size: 3em; margin: 0; text-transform: uppercase; white-space: nowrap; }
    .wish h5 { font-weight: lighter; font-size: 1.2rem; margin: 10px 0 0; padding: 0 20px; }
    .nine p { font-size: 1.2rem; font-weight: lighter; padding: 0 20px; }
    #replay { z-index: 3; cursor: pointer; font-weight: bold; text-decoration: underline; }

    /* New styles for the blackout screen */
    .dark-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #000;
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      color: white;
      text-align: center;
      opacity: 1;
      transition: opacity 2s ease-in-out;
    }
    .dark-screen-text {
      font-size: 1.5rem;
      padding: 0 20px;
    }

    #turn-on-light-btn {
      margin-top: 20px;
      padding: 12px 24px;
      background-color: #FFD700;
      color: #000;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: all 0.2s ease-in-out;
    }
    #turn-on-light-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 8px rgba(0,0,0,0.2);
    }
    

    /* Media Queries */
    @media screen and (max-width: 768px) {
      .one{font-size:3rem}.three{font-size:2rem}.five p{font-size:1.5rem}.five .idea-5{font-size:2.5rem}.idea-6 span{font-size:10rem}.wish-hbd{font-size:1.8em}.wish h5{font-size:1.1rem}.nine p{font-size:1.1rem}.six img.lydia-dp{width:300px;height:300px}.six .hat{width:120px;height:120px;top:-60px}
    }
    @media screen and (max-width: 500px) {
      .container>div{top:15vh}.one{font-size:2.2rem}.two{font-size:1rem;padding:0 15px}.three{font-size:1.8rem}.phone-screen{height:90vh; border-radius:10px;}.five p{font-size:1.2rem;padding:0 10px}.five .idea-5{font-size:2.2rem}.idea-6 span{font-size:7rem}.six img.lydia-dp{width:250px;height:250px}.six .hat{width:100px;height:100px;top:-50px}.wish-hbd{font-size:1.2em}.wish h5,.nine p{font-size:1rem}
    }
  </style>
</head>

<body>
  <!-- Saya telah memperbarui sumber audio dengan tautan yang Anda berikan dan menghapus 'autoplay' -->
  <audio loop id="birthday-audio">
    <source src="https://vocaroo.com/1owEvLCi9K1U.mp3" type="audio/mpeg">
    Browser Anda tidak mendukung tag audio.
  </audio>

  <!-- New blackout screen element -->
  <div class="dark-screen">
    <p class="dark-screen-text">Ada yang matiin lampu nih...</p>
    <button id="turn-on-light-btn">Nyalakan Lampu</button>
  </div>

  <div class="container">
    <div class="one">
      <h1 class="one">Hai
        <span id="name">Eka Septia Muliani</span>
      </h1>
      <p class="two" id="greetingText">To be honest, aku suka banget sama nama kamu. It's beautiful and unique, just like you.</p>
    </div>

    <div class="three">
      <p>it's your birthday!</p>
    </div>

    <!-- UI WhatsApp Lengkap dengan Keyboard -->
    <div class="four">
      <div class="phone-screen">
          <header class="bg-[#F0F2F5] p-2 flex items-center shadow-sm z-10 flex-shrink-0">
              <div class="flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-[#54656F] mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                  </svg>
                  <img src="https://i.imgur.com/wNfPr1R.jpeg" alt="Avatar" class="w-10 h-10 rounded-full object-cover">
              </div>
              <div class="ml-3 flex-grow text-left">
                  <h1 class="font-semibold text-gray-800 text-md">yaqq ‚è¶Ôæü‚ô°Ô∏é</h1>
                  <p class="text-xs text-gray-500">Kirim pesan ke diri sendiri</p>
              </div>
              <div class="flex items-center space-x-4 text-[#54656F]">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" /></svg>
              </div>
          </header>

          <main class="flex-1 overflow-y-auto p-4 chat-background">
              <div id="chat-area" class="flex flex-col space-y-2">
                  <div class="flex justify-center my-2">
                      <span class="bg-[#e1f2fb] text-gray-700 text-xs font-semibold px-2 py-1 rounded-md">HARI INI</span>
                  </div>
              </div>
          </main>
          
          <footer class="bg-[#F0F2F5] p-2 flex items-end space-x-2 flex-shrink-0">
              <div class="flex-grow bg-white rounded-full flex items-center px-3 py-2">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                  <textarea id="message-input" rows="1" placeholder="Ketik pesan" class="flex-grow bg-transparent text-sm focus:outline-none ml-2 text-gray-700 resize-none overflow-y-hidden" style="max-height: 100px;"></textarea>
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500 transform -rotate-45" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13" /></svg>
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-500 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
              </div>
              <button id="action-button" class="bg-[#00A884] text-white w-11 h-11 rounded-full flex items-center justify-center flex-shrink-0">
                  <div id="mic-icon">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" /></svg>
                  </div>
                  <div id="send-icon" class="hidden">
                       <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-6 w-6 text-white" fill="currentColor"><path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z" /></svg>
                  </div>
              </button>
          </footer>
          
          <div class="keyboard-area bg-[#D2D5DA] w-full flex-shrink-0">
              <div class="p-1.5 space-y-1.5 w-full pt-4">
                  <div class="flex justify-center w-full space-x-1.5">
                      <button data-key="q" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">q</button><button data-key="w" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">w</button><button data-key="e" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">e</button><button data-key="r" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">r</button><button data-key="t" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">t</button><button data-key="y" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">y</button><button data-key="u" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">u</button><button data-key="i" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">i</button><button data-key="o" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">o</button><button data-key="p" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">p</button>
                  </div>
                  <div class="flex justify-center w-full space-x-1.5 px-5">
                      <button data-key="a" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">a</button><button data-key="s" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">s</button><button data-key="d" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">d</button><button data-key="f" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">f</button><button data-key="g" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">g</button><button data-key="h" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">h</button><button data-key="j" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">j</button><button data-key="k" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">k</button><button data-key="l" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">l</button>
                  </div>
                  <div class="flex justify-center w-full items-center space-x-1.5">
                      <button class="h-11 w-11 bg-[#B2B8BF] rounded-md flex items-center justify-center shadow"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 6.75L12 3m0 0l3.75 3.75M12 3v18" /></svg></button>
                      <button data-key="z" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">z</button><button data-key="x" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">x</button><button data-key="c" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">c</button><button data-key="v" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">v</button><button data-key="b" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">b</button><button data-key="n" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">n</button><button data-key="m" class="key h-11 flex-1 bg-white rounded-md flex items-center justify-center font-normal text-2xl shadow capitalize transition-all duration-100">m</button>
                      <button class="h-11 w-11 bg-[#B2B8BF] rounded-md flex items-center justify-center shadow"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9.75L14.25 12m0 0l2.25 2.25M14.25 12L12 14.25m-2.58-4.5H5.25a2.25 2.25 0 00-2.25 2.25v3.75a2.25 2.25 0 002.25 2.25h13.5a2.25 2.25 0 002.25-2.25v-3.75a2.25 2.25 0 00-2.25-2.25H16.5m-4.08 0a2.25 2.25 0 012.25-2.25h.01a2.25 2.25 0 012.25 2.25v.01a2.25 2.25 0 01-2.25 2.25h-.01a2.25 2.25 0 01-2.25-2.25v-.01z" /></svg></button>
                  </div>
                  <div class="flex justify-center w-full items-center space-x-1.5">
                      <button class="h-11 flex-[1.5] bg-[#B2B8BF] rounded-md flex items-center justify-center text-base font-medium shadow">123</button>
                      <button data-key=" " class="key h-11 flex-[5] bg-white rounded-md flex items-center justify-center text-base font-medium shadow transition-all duration-100">Spasi</button>
                      <button class="h-11 flex-[2.5] bg-[#B2B8BF] rounded-md flex items-center justify-center text-base font-medium shadow">Kembali</button>
                  </div>
              </div>
          </div>
      </div>
    </div>
    <!-- AKHIR UI WHATSAPP -->

    <div class="five">
      <p class="idea-1">but then I realized, Aku sadar, ucapan kayak gitu is just not enough for you.</p>
      <p class="idea-2">Karena kamu bukan orang yang biasa,</p>
      <p class="idea-3">you're someone
        <strong>SPECIAL</strong>.
      </p>
      <p class="idea-4">Dan orang yang spesial</p>
      <p class="idea-5">pantas mendapatkan sesuatu yang lebih spesial juga.
        <span>:)</span>
      </p>
      <p class="idea-6">
        <span>S</span>
        <span>O</span>
      </p>
    </div>

    <div class="six">
      <img src="https://i.imgur.com/wNfPr1R.jpeg" alt="Foto Eka" class="lydia-dp" id="imagePath">
      <div class="hat"></div>
      <div class="wish">
        <h3 class="wish-hbd">a very happy 21st birthday to you, yaqq!</h3>
        <h5 id="wishText">Sebagai a little gift, aku buatin ini untukmu. Sorry kalau websitenya masih simpel dan jauh dari kata sempurna, but it was made sincerely, from the heart. Hope you like it and have a great day today!</h5>
      </div>
    </div>

    <div class="seven">
      <div class="baloons">
        <div class="balloon red"></div><div class="balloon blue"></div><div class="balloon yellow"></div><div class="balloon blue"></div><div class="balloon red"></div><div class="balloon yellow"></div><div class="balloon red"></div><div class="balloon yellow"></div><div class="balloon blue"></div><div class="balloon red"></div>
      </div>
    </div>

    <div class="eight">
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="20" /></svg><svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="20" /></svg><svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="20" /></svg><svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="20" /></svg><svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="20" /></svg><svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="20" /></svg><svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="20" /></svg><svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="20" /></svg><svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="20" /></svg>
    </div>

    <div class="nine">
      <p>My best wishes for you. Semoga di chapter baru ini kamu bisa shine even brighter, semua goals dan mimpimu tercapai, and always be surrounded by happiness.</p>
      <p id="replay">Klik di sini untuk melihat lagi dari awal.</p>
      <p class="last-smile">:)</p>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
  
  <script type="application/javascript">
    window.onload = () => {
      // Setup Elemen GSAP
      const hbd = document.getElementsByClassName("wish-hbd")[0];
      hbd.innerHTML = `<span>${hbd.innerHTML.split("").join("</span><span>")}</span>`;

      const ideaTextTrans = { opacity: 0, y: -20, rotationX: 5, skewX: "15deg" };
      const ideaTextTransLeave = { opacity: 0, y: 20, rotationY: 5, skewX: "-15deg" };

      // Setup Elemen WhatsApp
      const messageInput = document.getElementById('message-input');
      const actionButton = document.getElementById('action-button');
      const micIcon = document.getElementById('mic-icon');
      const sendIcon = document.getElementById('send-icon');
      const chatArea = document.getElementById('chat-area');
      const replayBtn = document.getElementById("replay");
      
      const fullMessage = 'Awalnya, aku mikir mau ngasih ucapan a basic birthday wish kayak, "Happy birthday to you! bla bla bla..."';
      
      // Timeline GSAP Utama
      const tl = new TimelineMax();

      // Perbaikan: Fungsi untuk auto-resize textarea
      const autoResizeTextarea = () => {
          messageInput.style.height = 'auto';
          const scrollHeight = messageInput.scrollHeight;
          const maxHeight = 100;
          if (scrollHeight > maxHeight) {
              messageInput.style.height = maxHeight + 'px';
              messageInput.style.overflowY = 'auto';
          } else {
              messageInput.style.height = scrollHeight + 'px';
              messageInput.style.overflowY = 'hidden';
          }
      }

      // Fungsi untuk menampilkan pesan terkirim
      const showSentMessage = () => {
        const messageBubbleHTML = `
         <div class="flex justify-end opacity-0 fade-in" style="animation-delay: 0.2s;">
            <div class="max-w-xs md:max-w-md">
                <div class="chat-bubble-sent rounded-lg p-2 shadow-sm">
                    <p class="text-sm text-gray-800 font-semibold text-red-500">Abdul</p>
                    <p class="text-sm text-gray-800" style="word-break: break-word;">${fullMessage}</p>
                    <div class="timestamp">00.00 <span class="checkmark">‚úì‚úì</span></div>
                </div>
            </div>
         </div>`;
        chatArea.insertAdjacentHTML('beforeend', messageBubbleHTML);
        chatArea.scrollTop = chatArea.scrollHeight;
        messageInput.value = "";
        autoResizeTextarea(); // Reset ukuran textarea
        micIcon.classList.remove('hidden');
        sendIcon.classList.add('hidden');
      };
      
      // FUNGSI UNTUK MENGETIK PESAN
      const typeWriter = (onComplete) => {
        let charIndex = 0;
        const typingSpeed = 70;
        
        function type() {
          if (charIndex < fullMessage.length) {
            if (charIndex === 0) {
              micIcon.classList.add('hidden');
              sendIcon.classList.remove('hidden');
            }
            const char = fullMessage.charAt(charIndex);
            messageInput.value += char;
            autoResizeTextarea(); // Panggil auto-resize di sini
            
            const keyToPress = char.toLowerCase();
            const keyButton = document.querySelector(`[data-key='${keyToPress}']`);
            if (keyButton) {
              keyButton.classList.add('key-pressed');
              setTimeout(() => {
                keyButton.classList.remove('key-pressed');
              }, 120);
            }
            charIndex++;
            setTimeout(type, typingSpeed);
          } else {
            if (onComplete) onComplete();
          }
        }
        type();
      };

      // PERBAIKAN: Menambahkan skenario mati lampu sebelum alur utama
      const darkScreen = document.querySelector(".dark-screen");
      const turnOnBtn = document.getElementById("turn-on-light-btn");
      const birthdayAudio = document.getElementById("birthday-audio");
      
      turnOnBtn.addEventListener("click", () => {
          // Play audio and fade out dark screen on first user interaction
          birthdayAudio.play();
          
          TweenMax.to(darkScreen, 1.5, {
              opacity: 0,
              onComplete: () => {
                  darkScreen.style.display = 'none';
                  // Start main animation timeline
                  tl
                    .to(".container", 0.1, { visibility: "visible" })
                    .from(".one", 0.7, { opacity: 0, y: 10 })
                    .from(".two", 0.4, { opacity: 0, y: 10 })
                    .to([".one", ".two"], 0.7, { opacity: 0, y: 10 }, "+=2.5")
                    .from(".three", 0.7, { opacity: 0, y: 10 })
                    .to(".three", 0.7, { opacity: 0, y: 10 }, "+=2")
                    .from(".four", 0.7, { scale: 0.8, opacity: 0 })
                    .call(typeWriter, [() => {
                        actionButton.addEventListener('click', () => {
                            showSentMessage();
                            tl.resume();
                        }, { once: true });
                    }])
                    .addPause()
                    .to(".four", 0.5, { scale: 0.8, opacity: 0, y: -250, ease: Power1.easeIn })
                    .from(".idea-1", 0.7, ideaTextTrans)
                    .to(".idea-1", 0.7, ideaTextTransLeave, "+=1.5")
                    .from(".idea-2", 0.7, ideaTextTrans)
                    .to(".idea-2", 0.7, ideaTextTransLeave, "+=1.5")
                    .from(".idea-3", 0.7, ideaTextTrans)
                    .to(".idea-3 strong", 0.5, { scale: 1.2, x: 10, backgroundColor: "rgb(21, 161, 237)", color: "#fff" })
                    .to(".idea-3", 0.7, ideaTextTransLeave, "+=1.5")
                    .from(".idea-4", 0.7, ideaTextTrans)
                    .to(".idea-4", 0.7, ideaTextTransLeave, "+=1.5")
                    .from(".idea-5", 0.7, { rotationX: 15, rotationZ: -10, skewY: "-5deg", y: 50, z: 10, opacity: 0 }, "+=0.5")
                    .to(".idea-5 span", 0.7, { rotation: 90, x: 8 }, "+=0.4")
                    .to(".idea-5", 0.7, { scale: 0.2, opacity: 0 }, "+=2")
                    .staggerFrom(".idea-6 span", 0.8, { scale: 3, opacity: 0, rotation: 15, ease: Expo.easeOut }, 0.2)
                    .staggerTo(".idea-6 span", 0.8, { scale: 3, opacity: 0, rotation: -15, ease: Expo.easeOut }, 0.2, "+=1")
                    .staggerFromTo(".baloons .balloon", 2.5, { opacity: 0.9, y: 1400 }, { opacity: 1, y: -1000 }, 0.2)
                    .from(".lydia-dp", 0.5, { scale: 3.5, opacity: 0, x: 25, y: -25, rotationZ: -45 }, "-=2")
                    .from(".hat", 0.5, { x: -100, y: 350, rotation: -180, opacity: 0 })
                    .staggerFrom(".wish-hbd span", 0.7, { opacity: 0, y: -50, rotation: 150, skewX: "30deg", ease: Elastic.easeOut.config(1, 0.5) }, 0.1)
                    .staggerFromTo(".wish-hbd span", 0.7, { scale: 1.4, rotationY: 150 }, { scale: 1, rotationY: 0, color: "#ff69b4", ease: Expo.easeOut }, 0.1, "party")
                    .from(".wish h5", 0.5, { opacity: 0, y: 10, skewX: "-15deg" }, "party")
                    .staggerTo(".eight svg", 1.5, { visibility: "visible", opacity: 0, scale: 80, repeat: 3, repeatDelay: 1.4 }, 0.3)
                    .to(".six", 0.5, { opacity: 0, y: 30, zIndex: "-1" })
                    .staggerFrom(".nine p", 1, ideaTextTrans, 1.2)
                    .to(".last-smile", 0.5, { rotation: 90 }, "+=1");
              }
          });
      });
      
      replayBtn.addEventListener("click", () => {
        location.reload(); 
      });

    };
  </script>

</body>
</html>
